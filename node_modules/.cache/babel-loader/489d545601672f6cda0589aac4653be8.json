{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dines\\\\react training\\\\react-redux-boilerplate\\\\src\\\\containers\\\\Login\\\\Login.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from \"yup\";\nimport \"./CSS/Login.css\";\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { createToken, checkAuthentication } from '../util/authentication';\n\nfunction Login(props) {\n  const [response, setResponse] = useState(true);\n  const [isSubmit, setIsSubmit] = useState(false);\n  const [postData, setPostData] = useState();\n  let navigate = useNavigate();\n  const loggedIn = checkAuthentication();\n  useEffect(() => {\n    if (isSubmit) {\n      axios.post('http://182.70.249.68:9000/v1/user/login', postData).then(res => {\n        console.log(res);\n        console.log(\"token is: \" + res.data.data.token);\n        createToken(res.data.data.token);\n\n        if (checkAuthentication()) {\n          navigate('/dashboard', {\n            replace: true\n          });\n        } else {\n          setResponse(false);\n        }\n      });\n    }\n  }, [isSubmit]);\n  console.log(postData);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, \"Admin Login\"), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    validationSchema: Yup.object({\n      email: Yup.string().email(\"Invalid email address\").required(\"Required\"),\n      password: Yup.string().required(\"Required\").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/, \"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character\").min(8).max(16)\n    }),\n    onSubmit: (values, {\n      setSubmitting\n    }) => {\n      setTimeout(() => {\n        setSubmitting(false);\n        setPostData(values);\n        setIsSubmit(true);\n      }, 400);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginForm mx-auto col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2 mb-sm-3 mb-lg-4 col-sm-12 col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"email\",\n    className: \"form-control red\",\n    placeholder: \"Enter Email Id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"errormessage\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"email\",\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 23\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-2 mb-sm-3 mb-lg-4 col-sm-12 col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"password\",\n    type: \"password\",\n    className: \"form-control red\",\n    placeholder: \"Enter Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"errormessage\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"password\",\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 23\n    }\n  }))), response ? /*#__PURE__*/React.createElement(React.Fragment, null) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"errormessage\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(ErrorMessage, {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"Wrong\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-sm-3 mb-lg-4 col-sm-12 col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-login text-light\",\n    type: \"submit\",\n    id: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 19\n    }\n  }, \"Login\")))))), !loggedIn && isSubmit ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 35\n    }\n  }, \"Wrong Credentials\") : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-curve\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default Login; // .......................................................\n// import React from 'react';\n// import {Btn} from '../../components/Controls/Button/Button';\n// import History from '../../routes/History';\n// class Login extends React.Component {\n//     // this method is only to trigger route guards , remove and use your own logic\n//     handleLogin = () => {\n//         localStorage.setItem('token','token');\n//         History.push('/')\n//     }\n//     render(){\n//         return(\n//             <div className=\"container my-5\">\n//                 <h1>Login Page</h1>\n//                 <Btn text='Login' handleClick={this.handleLogin}/>\n//             </div>\n//         )\n//     }\n// }\n// export default Login;","map":{"version":3,"sources":["C:/Users/dines/react training/react-redux-boilerplate/src/containers/Login/Login.js"],"names":["React","useEffect","useState","Formik","Form","Field","ErrorMessage","Yup","useNavigate","axios","createToken","checkAuthentication","Login","props","response","setResponse","isSubmit","setIsSubmit","postData","setPostData","navigate","loggedIn","post","then","res","console","log","data","token","replace","email","password","object","string","required","matches","min","max","values","setSubmitting","setTimeout","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as Yup from \"yup\";\r\nimport \"./CSS/Login.css\";\r\nimport {useNavigate} from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport { createToken, checkAuthentication } from '../util/authentication';\r\n\r\nfunction Login(props) {\r\n  const [response, setResponse] = useState(true)\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const [postData, setPostData]= useState()\r\n  let navigate= useNavigate();\r\n  const loggedIn = checkAuthentication();\r\n\r\n  useEffect(()=>{\r\n    if (isSubmit){\r\n      axios.post('http://182.70.249.68:9000/v1/user/login', postData)\r\n      .then((res)=> {\r\n        console.log(res);\r\n        console.log(\"token is: \"+res.data.data.token)\r\n        createToken(res.data.data.token)\r\n        if(checkAuthentication()){\r\n          navigate('/dashboard', {replace: true})\r\n        } else {\r\n          setResponse(false)\r\n        }\r\n      })\r\n    }\r\n  }, [isSubmit])\r\n\r\n  console.log(postData)\r\n  \r\n  return (\r\n    <div className='text-center mt-5'>\r\n      <div className='header'>Admin Login</div>\r\n        <Formik\r\n        initialValues={{email: \"\", password : \"\"}}\r\n        validationSchema = {\r\n            Yup.object({\r\n                email : Yup.string().email(\"Invalid email address\").required(\"Required\"),\r\n                password : Yup.string()\r\n                .required(\"Required\")\r\n                .matches(\r\n                  /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/ ,\r\n                  \"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character\"\r\n                )\r\n                .min(8).max(16)\r\n                \r\n            })\r\n        }\r\n        onSubmit={(values, { setSubmitting }) => {\r\n            setTimeout(() => {\r\n              setSubmitting(false);\r\n              setPostData(values);\r\n              setIsSubmit(true);\r\n            }, 400);\r\n          }}\r\n        >\r\n          <div className='loginForm mx-auto col-lg-6'>\r\n            <Form>\r\n              <div className='row'>\r\n                <div className='mb-2 mb-sm-3 mb-lg-4 col-sm-12 col-12'>\r\n                  <div className='form-group mt-2'>\r\n                      <Field name=\"email\" className=\"form-control red\" placeholder=\"Enter Email Id\"></Field>\r\n                      <div className='errormessage' style={{ color: \"red\" }} >\r\n                      <ErrorMessage name=\"email\" className='error' /></div>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n              <div className='row'>\r\n              <div className='mb-2 mb-sm-3 mb-lg-4 col-sm-12 col-12'>\r\n                  <div className='form-group mt-2'>\r\n                      <Field name=\"password\" type=\"password\" className=\"form-control red\" placeholder=\"Enter Password\"></Field>\r\n                      <div className='errormessage' style={{ color: \"red\" }} >\r\n                      <ErrorMessage name=\"password\" className='error' /></div>\r\n                  </div>\r\n                  {response ? <></> : <div className='errormessage' style={{ color: \"red\" }} >\r\n                    <ErrorMessage className='error'>Wrong</ErrorMessage>\r\n                  </div> }  \r\n              </div> \r\n              </div>\r\n              <div className='row'>\r\n                <div className='mb-sm-3 mb-lg-4 col-sm-12 col-12'>\r\n                  <button className=\"btn btn-primary btn-login text-light\" type='submit' id='button'>Login</button>\r\n                </div>  \r\n              </div>              \r\n            </Form>\r\n          </div>\r\n        \r\n        </Formik>\r\n        {(!loggedIn && isSubmit)? <div className='loginError'>Wrong Credentials</div>:<></>}\r\n        <div className='bg-curve'></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;\r\n\r\n// .......................................................\r\n\r\n// import React from 'react';\r\n// import {Btn} from '../../components/Controls/Button/Button';\r\n// import History from '../../routes/History';\r\n// class Login extends React.Component {\r\n\r\n//     // this method is only to trigger route guards , remove and use your own logic\r\n//     handleLogin = () => {\r\n//         localStorage.setItem('token','token');\r\n//         History.push('/')\r\n//     }\r\n\r\n//     render(){\r\n//         return(\r\n//             <div className=\"container my-5\">\r\n//                 <h1>Login Page</h1>\r\n//                 <Btn text='Login' handleClick={this.handleLogin}/>\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\n\r\n// export default Login;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}